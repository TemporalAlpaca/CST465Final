@*Link Index*@
@model List<Assignment1.Models.LinkModel>
@{
    Layout = "~/Views/Shared/_DefaultLayout.cshtml";
}
@section navBar{
    <!DOCTYPE HTML>

    <html lang="en">

    <head>
        <link rel="stylesheet" href="~/DefaultStyles.css" />
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
              crossorigin="anonymous">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.15.1/jquery.validate.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.6/jquery.validate.unobtrusive.js"></script>
        <title>Procrastinate With Pirates</title>
    </head>
}


@section body{

    <body>
        @Html.Partial("_NavBar")
        <h1>
            Links to help you procrastinate
        </h1>
        @Html.ActionLink("Create a Link",
                "Create",  // <-- Action
                "Link",   // <-- Controller
                new LinkModel(), // <-- Model
                null  // <-- htmlArguments
                )

        <div>
            <b>Links:</b>
        </div>

        <table class="table">
            <tr>
                <th>Link</th>
                <th>Procrastination Level</th>
                <th></th>

            </tr>
            @foreach (var link in Model)
            {
            <tr>
                <td><a href=@link.linkAddress>@link.linkName</a></td>
                <td>@link.pLevel</td>
                <td>
                    <form asp-action="Delete" asp-controller="Link" class="form-group" method="post">
                        <label asp-for="@link.Id" hidden></label>
                        <input type="hidden" asp-for="@link.Id" class="form-control" />

                        <button class="btn btn-primary" type="submit">Delete</button>
                    </form>
                </td>
            </tr>
            }
        </table>
    </body>
</html>
}
